<app-menuadmin></app-menuadmin>
<div class="d-flex flex-column mt-5 pt-5" style="min-height: 38vw;">
    <div class="d-flex flex-column container justify-content-start mt-4">
      <ul class="nav nav-tabs mb-3 border-0" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="admin-home-tab"
            data-bs-toggle="pill"
            data-bs-target="#admin-home"
            type="button"
            role="tab"
            aria-controls="admin-home"
            aria-selected="true"
          >
            Categorias
            <fa-icon [icon]="['fas', 'circle']"></fa-icon>
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="admin-profile-tab"
            data-bs-toggle="pill"
            data-bs-target="#admin-profile"
            type="button"
            role="tab"
            aria-controls="admin-profile"
            aria-selected="false"
          >
            Agregar
            <fa-icon [icon]="['fas', 'plus-circle']"></fa-icon>
          </button>
        </li>
      </ul>
      <div class="tab-content" id="pills-tabContent">
        <div
          class="tab-pane fade show active bg-white p-3"
          id="admin-home"
          role="tabpanel"
          aria-labelledby="admin-home-tab"
        >
          <div class="mt-3 mb-5">
            <h2>Categorias</h2>
          </div>
          <div class="table-responsive">
            <table aria-describedby="" class="table text-center">
              <thead>
                <tr>
                  <th scope="col">Nombre Categoria</th>
                  <th scope="col">Descripción</th>
                  <th scope="col"></th>
                </tr>
              </thead>
              <tbody>
                <ng-container *ngFor="let c of categoria">
  
                
                <tr>
                  <td>{{c.name}}</td>
                  <td>{{c.description}}</td>
                  <td class="text-center">
                    <ng-container *ngIf="c.state === 0">
                      <button type="button" class="btn btn-outline-danger mx-2" (click)="disable(c._id)">
                        <fa-icon [icon]="['fas', 'ban']"></fa-icon>
                        Deshabilitar
                      </button>
                    </ng-container>
                    <ng-container *ngIf="c.state === 1">
                      <button type="button" class="btn btn-outline-success mx-2" (click)="enable(c._id)">
                        <fa-icon [icon]="['fas', 'ban']"></fa-icon>
                        Habilitar
                      </button>
                    </ng-container >
                     <button type="button" class="btn btn-outline-primary" (click)="onSelectedCupo(c._id)">
                      <fa-icon [icon]="['far', 'pen-to-square']"></fa-icon>
                      Actualizar
                    </button> 
                  </td>
                </tr>
              </ng-container>
               
              </tbody>
            </table>
          </div>
        </div>
        <div
          class="tab-pane fade bg-white"
          id="admin-profile"
          role="tabpanel"
          aria-labelledby="admin-profile-tab"
        >
          <div class="mb-4 d-flex justify-content-center">
            <h2>Agregar Categoria</h2>
          </div>
          <form #frmCupo="ngForm" (ngSubmit)="onRegisterCupo(frmCupo)">
            <div class="row">
                <div class="col-md-4 mt-3"></div>
              <div class="col-md-4 mt-3">
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text text-dark">Nombre</span>
                  </div>
                  <input
                    required
                    type="text"
                    id="Nombre"
                    class="form-control"
                    name="nombre"
                    ngModel
                    #nombre="ngModel"
                  />
                  
                </div>
              </div>
              <div class="col-md-4 mt-3"></div>
            </div>
            <div class="row">
                <div class="col-md-4 mt-3"></div>
                <div class="col-md-4 mt-3">
                  <div class="input-group mb-3">
                    <div class="input-group-prepend">
                      <span class="input-group-text text-dark">Descripción</span>
                    </div>
                    <input
                      required
                      type="text"
                      id="descripcion"
                      class="form-control"
                      name="descripcion"
                      ngModel
                      #descripcion="ngModel"
                    />
                    
                  </div>
                </div>
                <div class="col-md-4 mt-3"></div>
              </div>
              <div class="row">
                <div class="col-md-4 mt-3"></div>
                <div class="col-sm-4 mt-3">
                    <div class="input-group mb-3">
                
                    <input
                      type="submit"
                      class="btn nuevo"
                      value="Guardar"
                      [disabled]="!frmCupo.valid"
                     
                    />
              </div>
              <div class="col-md-4 mt-3"></div>
            </div>
        </div>
          </form>
       
      </div>
    </div>
  </div>



  <app-modal-alerts [idModal]="'modalUpdateCupo'" [tipo]="6" [title]="'Actualizar Categoria'" (sendModal)="onUpdateCategoria($event)"
  [categoriaS]="categoriaS" #modalUpdateCategoria></app-modal-alerts>



<app-footer></app-footer>
